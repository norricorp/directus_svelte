"use strict";const e=((e,o,s=500)=>class extends Error{name="DirectusError";extensions;code=e.toUpperCase();status=s;constructor(e,s){super("string"==typeof o?o:o(e),s),this.extensions=e}toString(){return`${this.name} [${this.code}]: ${this.message}`}})("ELSEWHERE_SOURCE","This has come from elsewhere");module.exports=({filter:o,action:s})=>{o("users.create",((o,{collection:s},{database:i,schema:r,accountability:t})=>{if(console.log("filter input object for user create is "+JSON.stringify(o)),!t||t.admin&&t.app)return console.log("This has come from directus app"),o;if(!o.fred)throw console.log("This has come from elsewhere"),new e;return console.log("This has come from SVELTE"),delete o.fred,o})),o("notifications.create",((o,{collection:s},{database:i,schema:r,accountability:t})=>{if(console.log("filter input object for notification create is "+JSON.stringify(o)),!t||t.admin&&t.app)return console.log("This has come from directus app"),o;if(!o.subject.includes(" requires approval of Registration"))throw console.log("This has come from elsewhere"),new e;return console.log("This has come from SVELTE"),o})),o("articles.items.query",((e,{collection:o},{database:s,schema:i,accountability:r})=>{if(console.log("filter input object for article query is "+JSON.stringify(e)),!r||r.admin&&r.app)return console.log("This has come from directus app"),e;e.fields.includes("fred")?(console.log("This has come from SVELTE "+JSON.stringify(e.fields)),e.fields.pop()):(console.log("This has come from elsewhere"),e.filter.membersOnly=!1),console.log("filter input object for article query after processing is "+JSON.stringify(e))})),s("users.create",(({payload:e},{schema:o,accountability:s})=>{console.log("action payload object for users create is "+JSON.stringify(e))}))};
